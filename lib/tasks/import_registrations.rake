# frozen_string_literal: true

require_relative '../csv_import'

namespace :import do
  include CsvImport
  desc 'Import registrations from CSV for specified competition_ids'
  task registrations: :environment do
    # Step 1: Generate a list of competition_ids by running the following command in phpmyadmin
    # SELECT `id` FROM `Competitions` WHERE `start_date` > "2023-11-22";
    # Replace "2023-11-22" with the current date, export as CSV, and then you have the competition ids. Vim magic for hash formatting.
    competition_import_files = {
      # SL5Handball2023: 'basic_registrations_import.csv',
      # FleurdeLisFallLA2023: 'basic_registrations_import.csv',
      # MountainViewMultiMadness2023: 'basic_registrations_import.csv',
      # VenezuelaNationals2023: 'basic_registrations_import.csv',
      # BednaryOpen2023: 'basic_registrations_import.csv',
      # BucharestAutumnCubingA2023: 'basic_registrations_import.csv',
      # BucharestAutumnCubingB2023: 'basic_registrations_import.csv',
      # CBCCapitanejoII2023: 'basic_registrations_import.csv',
      # DumagueteCubeRendezvous2023: 'basic_registrations_import.csv',
      # DutchNationals2023: 'basic_registrations_import.csv',
      # FranconiaWinter2023: 'basic_registrations_import.csv',
      # HalifaxFall2023: 'basic_registrations_import.csv',
      # HefeiWinterOpen2023: 'basic_registrations_import.csv',
      # Itameri2023: 'basic_registrations_import.csv',
      # JohorMini2023: 'basic_registrations_import.csv',
      # KostanayOpen2023: 'basic_registrations_import.csv',
      # MadridNorteOpen2023: 'basic_registrations_import.csv',
      # MairenaOpen2023: 'basic_registrations_import.csv',
      # MedvodeOpen2023: 'basic_registrations_import.csv',
      # MimosaMallMasterCubers2023: 'basic_registrations_import.csv',
      # Minisota2023: 'basic_registrations_import.csv',
      # NoClockinLuzice2023: 'basic_registrations_import.csv',
      # PaodeQueijoOpen2023: 'basic_registrations_import.csv',
      # PatioCubikMastersSabado2023: 'basic_registrations_import.csv',
      # PoznanAutumn2023: 'basic_registrations_import.csv',
      # PretoriaSpringAfternoon2023: 'basic_registrations_import.csv',
      # PretoriaSpringMorning2023: 'basic_registrations_import.csv',
      # QUTQubeChallengeSaturday2023: 'basic_registrations_import.csv',
      # ReykjavikWindyOpen2023: 'basic_registrations_import.csv',
      # SantaFeOClock2023: 'basic_registrations_import.csv',
      # SkewbWinsUTP2023: 'basic_registrations_import.csv',
      # SowegaSolving2023: 'basic_registrations_import.csv',
      # StevenageNovember2023: 'basic_registrations_import.csv',
      # SuurKloostriSideEvents2023: 'basic_registrations_import.csv',
      # TCGSpaceIISantaAnita2023: 'basic_registrations_import.csv',
      # ThailandCoolDown2023: 'basic_registrations_import.csv',
      # AyaseFMC2023: 'basic_registrations_import.csv',
      # FMCItaly2023: 'basic_registrations_import.csv',
      # HolandesCubing2023: 'basic_registrations_import.csv',
      # PatioCubikMastersDomingo2023: 'basic_registrations_import.csv',
      # PleaseBeSolvedThisTimeJoburg2023: 'basic_registrations_import.csv',
      # QUTQubeChallengeSunday2023: 'basic_registrations_import.csv',
      # ShenzhenYouthOpen2023: 'basic_registrations_import.csv',
      # SlemanSkewbWarmUp2023: 'basic_registrations_import.csv',
      # MichiganMini102023: 'basic_registrations_import.csv',
      # GrizzLeagueIV2023: 'basic_registrations_import.csv',
      # HDCIXRoskilde2023: 'basic_registrations_import.csv',
      # Jonkopingsligan5Calzone2023: 'basic_registrations_import.csv',
      # HilliardHippocampusXI2023: 'basic_registrations_import.csv',
      # CostaRicanChampionship2023: 'basic_registrations_import.csv',
      # HooshinooAutumn2023: 'basic_registrations_import.csv',
      # MalaysiaCubeChampionship2023: 'basic_registrations_import.csv',
      # BjorneborgWinter2023: 'basic_registrations_import.csv',
      # BratislavaAutumn2023: 'basic_registrations_import.csv',
      # Capivara2023: 'basic_registrations_import.csv',
      # CaucasusOpen2023: 'basic_registrations_import.csv',
      # ColoradoColdHandsShowdown2023: 'basic_registrations_import.csv',
      # CubeFactoryBrzeziny2023: 'basic_registrations_import.csv',
      # DontFailKinsale2023: 'basic_registrations_import.csv',
      # GrizzlyHibernating2023: 'basic_registrations_import.csv',
      # HamptonParkSummerSaturday2023: 'basic_registrations_import.csv',
      # HarmonyElPasoCubing2023: 'basic_registrations_import.csv',
      # KansasHolidayCubeOffAM2023: 'basic_registrations_import.csv',
      # KansasHolidayCubeOffPM2023: 'basic_registrations_import.csv',
      # KUbingNepal2023: 'basic_registrations_import.csv',
      # LakePlacid2023: 'basic_registrations_import.csv',
      # LiverpoolWinter2023: 'basic_registrations_import.csv',
      # MadridCundinamarcaIII2023: 'basic_registrations_import.csv',
      # MegaBigCubesBucharest2023: 'basic_registrations_import.csv',
      # MilduraMadness2023: 'basic_registrations_import.csv',
      # NaticubeBLD2023: 'basic_registrations_import.csv',
      # NavidadAvesMariaTeams2023: 'basic_registrations_import.csv',
      # RioMarFortalezaII2023: 'basic_registrations_import.csv',
      # RockyTop2023: 'basic_registrations_import.csv',
      # SideEventsMinnesota2023: 'basic_registrations_import.csv',
      # SinFronterasEcuador2023: 'basic_registrations_import.csv',
      # TexasChampionship2023: 'basic_registrations_import.csv',
      # ThailandQuietChampionship2023: 'basic_registrations_import.csv',
      # UBCBigBlind2023: 'basic_registrations_import.csv',
      # UCLAPBQ2023: 'basic_registrations_import.csv',
      # UFBAIIIDoisLados2023: 'basic_registrations_import.csv',
      # UNSASCPrimaveraII2023: 'basic_registrations_import.csv',
      # UWorUDont2023: 'basic_registrations_import.csv',
      # VilleneuvelesAvignonOpen2023: 'basic_registrations_import.csv',
      # ZGZOpen2023: 'basic_registrations_import.csv',
      # Anapoima2023: 'basic_registrations_import.csv',
      # Cicero2023: 'basic_registrations_import.csv',
      # ClawsUpWinter2023: 'basic_registrations_import.csv',
      # Clockburn2023: 'basic_registrations_import.csv',
      # DefiJeunesseMontreal2023: 'basic_registrations_import.csv',
      # HamptonParkSummerSunday2023: 'basic_registrations_import.csv',
      # Hike2CubeKenya2023: 'basic_registrations_import.csv',
      # JacksonvilleWinter2023: 'basic_registrations_import.csv',
      # MalokaAlCuboBogota2023: 'basic_registrations_import.csv',
      # MontevideoenLlamas2023: 'basic_registrations_import.csv',
      # NubOpenMissionViejo2023: 'basic_registrations_import.csv',
      # ShhSeattle2023: 'basic_registrations_import.csv',
      # TheCoreofHobart2023: 'basic_registrations_import.csv',
      # FMCowOhioState2023: 'basic_registrations_import.csv',
      # SL6Curling2023: 'basic_registrations_import.csv',
      # GreekNationals2023: 'basic_registrations_import.csv',
      # ItalianChampionship2023: 'basic_registrations_import.csv',
      # NavidadExploraMedellin2023: 'basic_registrations_import.csv',
      # NewZealandNationals2023: 'basic_registrations_import.csv',
      # NigerianChampionship2023: 'basic_registrations_import.csv',
      # RioCuartoalCubo2023: 'basic_registrations_import.csv',
      # SpanishChampionship2023: 'basic_registrations_import.csv',
      # SSLFinalUppsala2023: 'basic_registrations_import.csv',
      # TaiwanChampionship2023: 'basic_registrations_import.csv',
      # VelitasBogota2023: 'basic_registrations_import.csv',
      # AstanaOpen2023: 'basic_registrations_import.csv',
      # BodocoOpen2023: 'basic_registrations_import.csv',
      # ConcordiaTurningFall2023: 'basic_registrations_import.csv',
      # CubingPortalOslo2023: 'basic_registrations_import.csv',
      # CubingPortalSandnes2023: 'basic_registrations_import.csv',
      # CubingPortalTrondheim2023: 'basic_registrations_import.csv',
      # CubingZACapeCubesChallenge2023: 'basic_registrations_import.csv',
      # DecimoAniversarioGuatemala2023: 'basic_registrations_import.csv',
      # DragonCubingII2023: 'basic_registrations_import.csv',
      # EduardoSantosBogota2023: 'basic_registrations_import.csv',
      # FountainCityHolidaySpecial2023: 'basic_registrations_import.csv',
      # KobanyaAdvent2023: 'basic_registrations_import.csv',
      # KoprCube2023: 'basic_registrations_import.csv',
      # ManhattanMiniA2023: 'basic_registrations_import.csv',
      # ManhattanMiniB2023: 'basic_registrations_import.csv',
      # NxNMinnesota2023: 'basic_registrations_import.csv',
      # OhioStateWinter2023: 'basic_registrations_import.csv',
      # RheinNeckarMentalBreakdown2023: 'basic_registrations_import.csv',
      # SerbianOpen2023: 'basic_registrations_import.csv',
      # ShhlowNShhteadyFall2023: 'basic_registrations_import.csv',
      # UIUCFall2023: 'basic_registrations_import.csv',
      # Yumbo2023: 'basic_registrations_import.csv',
      # BarranquillaReal2023: 'basic_registrations_import.csv',
      # BeckmanGetsBig2023: 'basic_registrations_import.csv',
      # CarolinaClockStravaganza2023: 'basic_registrations_import.csv',
      # CaviteBigCubesOpen2023: 'basic_registrations_import.csv',
      # ChristmasCubingSigua2023: 'basic_registrations_import.csv',
      # FarumMeettheCats2023: 'basic_registrations_import.csv',
      # IndianNationalsFMC2023: 'basic_registrations_import.csv',
      # KeepAustinWeird2023: 'basic_registrations_import.csv',
      # ManhattanMiniC2023: 'basic_registrations_import.csv',
      # ManhattanMiniD2023: 'basic_registrations_import.csv',
      # MonterreyBogotaIV2023: 'basic_registrations_import.csv',
      # PhoenixCubingOpen2023: 'basic_registrations_import.csv',
      # SalesianosdeMaculOpen2023: 'basic_registrations_import.csv',
      # TCGSelvaCubica2023: 'basic_registrations_import.csv',
      # MichiganMini112023: 'basic_registrations_import.csv',
      # JLFinalKebabpizza2023: 'basic_registrations_import.csv',
      # FaerrestTrekkiBarnehagen2023: 'basic_registrations_import.csv',
      # IndianNationals2023: 'basic_registrations_import.csv',
      # MexicanChampionship2023: 'basic_registrations_import.csv',
      # KoreanChampionship2023: 'basic_registrations_import.csv',
      # MasterCubeSalvador2023: 'basic_registrations_import.csv',
      # NacionalesGuatemala2023: 'basic_registrations_import.csv',
      # AcrosstheWoodsKentuckyA2023: 'basic_registrations_import.csv',
      # BarrancabermejaXmas2023: 'basic_registrations_import.csv',
      # BigNBlindBerwick2023: 'basic_registrations_import.csv',
      # CentralSquareTrifecta2023: 'basic_registrations_import.csv',
      # ChristmasFlashInTrnava2023: 'basic_registrations_import.csv',
      # Cube4funCubersEve2023: 'basic_registrations_import.csv',
      # CubeMadnessSchweinfurt2023: 'basic_registrations_import.csv',
      # CubingbyQuinnsBeach2023: 'basic_registrations_import.csv',
      # CubingKnightsV2023: 'basic_registrations_import.csv',
      # CubingZAFMCChampionship2023: 'basic_registrations_import.csv',
      # DontDNFDenton2023: 'basic_registrations_import.csv',
      # FloripaOpen2023: 'basic_registrations_import.csv',
      # IHopeItsSolvedEdmonton2023: 'basic_registrations_import.csv',
      # IIIRecifeOpen2023: 'basic_registrations_import.csv',
      # KyivFMCFriendsV2023: 'basic_registrations_import.csv',
      # PhitsanulokReturns2023: 'basic_registrations_import.csv',
      # PickeringFavouritesAutumn2023: 'basic_registrations_import.csv',
      # PittsburghBeQuiet2023: 'basic_registrations_import.csv',
      # SanJuanIV2023: 'basic_registrations_import.csv',
      # SLSGrudzien2023: 'basic_registrations_import.csv',
      # SpeedcuberPeruIILima2023: 'basic_registrations_import.csv',
      # SydneySummer2023: 'basic_registrations_import.csv',
      # TakeYourTimeErmelo2023: 'basic_registrations_import.csv',
      # TicinoWinterOpen2023: 'basic_registrations_import.csv',
      # UCSDWinter2023: 'basic_registrations_import.csv',
      # USAFAFlybyCubing2023: 'basic_registrations_import.csv',
      # UtahSnowballBash2023: 'basic_registrations_import.csv',
      # WaterlooFavouritesAutumn2023: 'basic_registrations_import.csv',
      # WiltshireDecember2023: 'basic_registrations_import.csv',
      # ZvornikOpen2023: 'basic_registrations_import.csv',
      # AcrosstheWoodsKentuckyB2023: 'basic_registrations_import.csv',
      # AvenidaChileVIFourRounds2023: 'basic_registrations_import.csv',
      # BigBlindBlastOrlando2023: 'basic_registrations_import.csv',
      # CalamariCartagena2023: 'basic_registrations_import.csv',
      # CaviteSpeedcubingOpenVI2023: 'basic_registrations_import.csv',
      # DFWCubingFall2023: 'basic_registrations_import.csv',
      # FolsomWinter2023: 'basic_registrations_import.csv',
      # PocosCuposFloridablanca2023: 'basic_registrations_import.csv',
      # TartuOpen2023: 'basic_registrations_import.csv',
      # WashtenawAutumn2023: 'basic_registrations_import.csv',
      # FewestMovesCambodia2023: 'basic_registrations_import.csv',
      # MichiganMini122023: 'basic_registrations_import.csv',
      # ULFinalOctahedron2023: 'basic_registrations_import.csv',
      # HilliardHippocampusXII2023: 'basic_registrations_import.csv',
      # SLFinalSpokboll2023: 'basic_registrations_import.csv',
      # MedanSpeedcubingShowdown2023: 'basic_registrations_import.csv',
      # GlendaleHeightsFMCWinter2023: 'basic_registrations_import.csv',
      # DublinOhioCubingWinter2023: 'basic_registrations_import.csv',
      # CaloocanYearEndBlast2023: 'basic_registrations_import.csv',
      # SaideiraBrasilia2023: 'basic_registrations_import.csv',
      # BrizZonSylwesterOpen2023: 'basic_registrations_import.csv',
      # HappyHolidaysColorado2023: 'basic_registrations_import.csv',
      # RacetheClockMinnesota2023: 'basic_registrations_import.csv',
      # SpokaneWinter2023: 'basic_registrations_import.csv',
      # WinchesterWindDown2023: 'basic_registrations_import.csv',
      # BlackUnicornBudapest2023: 'basic_registrations_import.csv',
      # KrungthepFarewell2023: 'basic_registrations_import.csv',
      # MinnesotaMeetupIIITuesday2024: 'basic_registrations_import.csv',
      # MinnesotaMeetupIIIWednesday2024: 'basic_registrations_import.csv',
      # MinnesotaMeetupIIIThursday2024: 'basic_registrations_import.csv',
      # BatonRougeWinter2024: 'basic_registrations_import.csv',
      # CanadasBestintheWest2024: 'basic_registrations_import.csv',
      # GemCityAirplaneModeV2024: 'basic_registrations_import.csv',
      # LeersumAlgs2024: 'basic_registrations_import.csv',
      # ConnecticutWinter2024: 'basic_registrations_import.csv',
      # CubingatTheCube2024: 'basic_registrations_import.csv',
      # CurtanCubingContest2024: 'basic_registrations_import.csv',
      # DiadeReyesChiriqui2024: 'basic_registrations_import.csv',
      # DontDNFDublin2024: 'basic_registrations_import.csv',
      # FSUbers502024: 'basic_registrations_import.csv',
      # MilwaukeeCubingMania2024: 'basic_registrations_import.csv',
      # RedWolfCubingArkansas2024: 'basic_registrations_import.csv',
      # RenoWinter2024: 'basic_registrations_import.csv',
      # SpaceCityWinter2024: 'basic_registrations_import.csv',
      # UtahIceCubing2024: 'basic_registrations_import.csv',
      # ManilaSidesStandoff2024: 'basic_registrations_import.csv',
      # Solve4JusticeSouthfield2024: 'basic_registrations_import.csv',
      # UCSDWinter2024: 'basic_registrations_import.csv',
      # AdelaideSummer2024: 'basic_registrations_import.csv',
      # ChooChooCubingA2024: 'basic_registrations_import.csv',
      # GCUWinter2024: 'basic_registrations_import.csv',
      # KCKC4BigandAwkward2024: 'basic_registrations_import.csv',
      # PBQPickeringWinter2024: 'basic_registrations_import.csv',
      # PerthPuzzleParty2024: 'basic_registrations_import.csv',
      # PourGesteJaiGateau2024: 'basic_registrations_import.csv',
      # RebelCountyCubing2024: 'basic_registrations_import.csv',
      # SiouxFallsWinter2024: 'basic_registrations_import.csv',
      # StevenageJanuary2024: 'basic_registrations_import.csv',
      # TassieSummer2024: 'basic_registrations_import.csv',
      # WashtenawWinter2024: 'basic_registrations_import.csv',
      # BayAreaSpeedcubin55SanRamon2024: 'basic_registrations_import.csv',
      # ChooChooCubingB2024: 'basic_registrations_import.csv',
      # ChosicasBigShow2024: 'basic_registrations_import.csv',
      # MelbourneSummer2024: 'basic_registrations_import.csv',
      # BackToTriCities2024: 'basic_registrations_import.csv',
      # HayangeOpen2024: 'basic_registrations_import.csv',
      # ManchesterWinter2024: 'basic_registrations_import.csv',
      # MegamaniainLouisville2024: 'basic_registrations_import.csv',
      # MoCoCubingWinter2024: 'basic_registrations_import.csv',
      # NorthStarCubingChallenge2024: 'basic_registrations_import.csv',
      # PowayCubingWinter2024: 'basic_registrations_import.csv',
      # SacCubingXVI2024: 'basic_registrations_import.csv',
      # TacomaWinterTwisters2024: 'basic_registrations_import.csv',
      # UCOCubingWinter2024: 'basic_registrations_import.csv',
      # ZoryOpen2024: 'basic_registrations_import.csv',
      # FewBetterMeanItDiliman2024: 'basic_registrations_import.csv',
      # TroyStory2024: 'basic_registrations_import.csv',
      # AlbanySummerSolving2024: 'basic_registrations_import.csv',
      # BigCubeBattleofWaterloo2024: 'basic_registrations_import.csv',
      # CubingAbovetheDinosaurs2024: 'basic_registrations_import.csv',
      # EcijaOpen2024: 'basic_registrations_import.csv',
      # EdinburghWinter2024: 'basic_registrations_import.csv',
      # GortaGoFast2024: 'basic_registrations_import.csv',
      # HonoluluLiiliiaIkeMaka2024: 'basic_registrations_import.csv',
      # LongjumOpen2024: 'basic_registrations_import.csv',
      # ParsippanyMiniAM2024: 'basic_registrations_import.csv',
      # ParsippanyMiniPM2024: 'basic_registrations_import.csv',
      # SouthernSolvesInvercargill2024: 'basic_registrations_import.csv',
      # TheBattleofLexington2024: 'basic_registrations_import.csv',
      # HonoluluNuiaMakapo2024: 'basic_registrations_import.csv',
      # BrisbaneSummer2024: 'basic_registrations_import.csv',
      # BurnabyBasics2024: 'basic_registrations_import.csv',
      # CobbCubesandClocks2024: 'basic_registrations_import.csv',
      # EgyptWinter2024: 'basic_registrations_import.csv',
      # GdayMaitland2024: 'basic_registrations_import.csv',
      # MurdochUniversityOpen2024: 'basic_registrations_import.csv',
      # NoVaCubeWinter2024: 'basic_registrations_import.csv',
      # RheinNeckarPhysicalBreakdown2024: 'basic_registrations_import.csv',
      # WiltshireFebruary2024: 'basic_registrations_import.csv',
      # FallRiverCubikon2024: 'basic_registrations_import.csv',
      # BattleofAlberta2024: 'basic_registrations_import.csv',
      # DSFGeneralforsamlingen2024: 'basic_registrations_import.csv',
      # HawaiiBigIslandWinter2024: 'basic_registrations_import.csv',
      # HiroshimaWinter2024: 'basic_registrations_import.csv',
      # HurlubiksCubeMouscron2024: 'basic_registrations_import.csv',
      # StevenageFebruary2024: 'basic_registrations_import.csv',
      # TNSpeedsolvingWinter2024: 'basic_registrations_import.csv',
      # EliteinEagan2024: 'basic_registrations_import.csv',
      # ParadiseParkNxNxN2024: 'basic_registrations_import.csv',
      # AmoreOpen2024: 'basic_registrations_import.csv',
      # CatalinaCubeMixer2024: 'basic_registrations_import.csv',
      # ChellesOpen2024: 'basic_registrations_import.csv',
      # CorduffCubingSaturday2024: 'basic_registrations_import.csv',
      # HampshireWinter2024: 'basic_registrations_import.csv',
      # Naticube2024: 'basic_registrations_import.csv',
      # Winterpeg2024: 'basic_registrations_import.csv',
      # CorduffCubingSunday2024: 'basic_registrations_import.csv',
      # BASC56BASED2024: 'basic_registrations_import.csv',
      # CardinalCubeDay2024: 'basic_registrations_import.csv',
      # CorkSpring2024: 'basic_registrations_import.csv',
      # GetAnotherSuccessinSuccess2024: 'basic_registrations_import.csv',
      # SeomaraCubeFest2024: 'basic_registrations_import.csv',
      # VolunteerStateCubing2024: 'basic_registrations_import.csv',
      # BASC57BigandBlind2024: 'basic_registrations_import.csv',
      # VelillaOpen2024: 'basic_registrations_import.csv',
      # AlgsinAnkeny2024: 'basic_registrations_import.csv',
      # StevenageNewcomersSat2024: 'basic_registrations_import.csv',
      # StevenageNewcomersSunday2024: 'basic_registrations_import.csv',
      # CharenteOpen2024: 'basic_registrations_import.csv',
      # DFWMegacomp2024: 'basic_registrations_import.csv',
      # ManchesterSpring2024: 'basic_registrations_import.csv',
      # BoltonSpring2024: 'basic_registrations_import.csv',
      # WideBayCubing2024: 'basic_registrations_import.csv',
      # NittedalMentalBreakdown2024: 'basic_registrations_import.csv',
      # NZSouthIslandChampionship2024: 'basic_registrations_import.csv',
      # ItsAboutTimeBloomsburg2024: 'basic_registrations_import.csv',
      # PleaseBeQuietBrisbane2024: 'basic_registrations_import.csv',
      # RiverHawkCubikon2024: 'basic_registrations_import.csv',
      # DFWCubingSpring2024: 'basic_registrations_import.csv',
      # PuzzlesinPottsville2024: 'basic_registrations_import.csv',
      # BoltonSummer2024: 'basic_registrations_import.csv',
      # BetaComp1: 'basic_registrations_import.csv',
      # BetaComp2: 'basic_registrations_import.csv',
      # BetaComp3: 'basic_registrations_import.csv',
      # BetaComp4: 'basic_registrations_import.csv',
      # BetaComp5: 'basic_registrations_import.csv',
      # BetaComp6: 'basic_registrations_import.csv',
      # BetaComp7: 'basic_registrations_import.csv',
      # BetaComp8: 'basic_registrations_import.csv',
      # BetaComp9: 'basic_registrations_import.csv',
      # BetaComp10: '50_registrations_import.csv',
      # BetaComp11: '100_registrations_import.csv',
      # BetaComp12: '500_registrations_import.csv',
      # BetaComp13: '1000_registration_import.csv',
      # BetaComp14: '3000_registration_import.csv',
    }

    # Step 2: Import records for each competition_id
    competition_import_files.each do |competition_id, csv_file_path|
      registrations = build_import_hash(csv_file_path, competition_id)
      puts competition_id
      Registration.import(registrations)
    end
  end

  def fetch_competition_ids_from_api
    # TODO
  end

  def build_import_hash(csv_file_path, competition_id)
    CSV.parse(File.read(csv_file_path), headers: true).map do |row|
      CsvImport.parse_row_to_registration(row.to_h, competition_id)
    end
  end
end
